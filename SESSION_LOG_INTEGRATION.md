# ุชูุงูู SessionLog ูุน BehaviorPlan

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุญุฏูุซ ูุธููุฉ ุญูุธ ูุงุฆูุฉ ุงูุชุญูู ูุชุดูู ุฅุถุงูุฉ ุงูุฌูุณุฉ ุฅูู ุงูุณุฌู (SessionLog) ูุน ุงูุงุญุชูุงุธ ุจุงููุธููุฉ ุงูุฃุตููุฉ.

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. ุงููุธููุฉ ุงููุญุณูุฉ
ุชู ุชุญุฏูุซ `handleSaveChecklist()` ูุชููู ุจู:
- โ **ุญูุธ ูู Firebase** (ููุง ูุงู ูู ูุจู)
- โ **ุฅุถุงูุฉ ุฅูู SessionLog** (ุฌุฏูุฏ)

### 2. ุงูุจูุงูุงุช ุงููุฑุณูุฉ ุฅูู SessionLog

```javascript
onSaveToLog({
  id: docRef.id,                    // ูุนุฑู ุงูุฌูุณุฉ
  timestamp: new Date().toISOString(), // ุงูููุช ุงูุญุงูู
  child: currentChild || formData.targetBehavior, // ุงุณู ุงูุทูู
  text: "ูุงุฆูุฉ ุชุญูู ุงูุฎุทุฉ ุงูุณููููุฉ - ุงูุณููู: [ุงุณู ุงูุณููู] - ุฏุฑุฌุฉ ุงูุงูุชุฒุงู: [ุงููุณุจุฉ]%",
  activity: formData.behaviorContext || 'ุฎุทุฉ ุณููููุฉ',
  hasAudio: false,                  // ูุง ููุฌุฏ ุตูุช
  energy: Math.round(fidelityScore / 20), // ูุณุชูู ุงูุทุงูุฉ (1-5)
  tags: ['behavior', 'checklist', `fidelity-${fidelityScore}%`],
  type: 'behavior_checklist',       // ููุน ุงูุฌูุณุฉ
  status: 'applied',                // ุญุงูุฉ ูุทุจูุฉ
  generatedPlan: generatedPlan,     // ุงูุฎุทุฉ ุงููููุฏุฉ
  checklist: {                      // ุจูุงูุงุช ูุงุฆูุฉ ุงูุชุญูู
    checkedItems: checkedItems,
    fidelityScore: Math.round(fidelityScore),
    totalItems: fidelityChecklistItems.length,
    completedItems: Object.values(checkedItems).filter(Boolean).length
  },
  suggestions: generatedPlan?.antecedent_strategies || [],
  customizations: generatedPlan?.consequence_strategies || []
});
```

### 3. ููููุฉ ุนุฑุถ ุงูุจูุงูุงุช ูู SessionLog

#### ูู ุงูุฌุฏูู ุงูุฑุฆูุณู:
- **ุงูุชุงุฑูุฎ ูุงูููุช**: ููุช ุงูุญูุธ
- **ุงูุทูู**: ุงุณู ุงูุทูู ุฃู ุงูุณููู ุงููุณุชูุฏู
- **ุงูููุน**: ูุต (ุจุฏูู ุตูุช)
- **ุงููุดุงุท**: ุณูุงู ุงูุณููู ุฃู "ุฎุทุฉ ุณููููุฉ"
- **ุงูููุชุทู**: "ูุงุฆูุฉ ุชุญูู ุงูุฎุทุฉ ุงูุณููููุฉ - ุงูุณููู: [ุงุณู] - ุฏุฑุฌุฉ ุงูุงูุชุฒุงู: [ูุณุจุฉ]%"
- **ุงูุญุงูุฉ**: ูุทุจู

#### ูู ุงูุชูุงุตูู ุงูููุณุนุฉ:
- **ุงููุต ุงููุงูู**: ูุตู ููุตู ููุฌูุณุฉ
- **ุงููุณูู**: 
  - `behavior` - ุณููู
  - `checklist` - ูุงุฆูุฉ ุชุญูู
  - `fidelity-[ูุณุจุฉ]%` - ุฏุฑุฌุฉ ุงูุงูุชุฒุงู
- **ูุณุชูู ุงูุทุงูุฉ**: ูุญุณูุจ ูู ุฏุฑุฌุฉ ุงูุงูุชุฒุงู (1-5 ูุฌูู)
- **ุงูููุชุฑุญุงุช**: ุงุณุชุฑุงุชูุฌูุงุช ุงูุชููุฆุฉ ูู ุงูุฎุทุฉ
- **ุงูุชุฎุตูุตุงุช**: ุงุณุชุฑุงุชูุฌูุงุช ุงูุงุณุชุฌุงุจุฉ ูู ุงูุฎุทุฉ

### 4. ุญุณุงุจ ูุณุชูู ุงูุทุงูุฉ

```javascript
// ุชุญููู ุฏุฑุฌุฉ ุงูุงูุชุฒุงู ุฅูู ูุณุชูู ุทุงูุฉ (1-5)
energy: Math.round(fidelityScore / 20)

// ุฃูุซูุฉ:
// 100% โ 5 ูุฌูู
// 80% โ 4 ูุฌูู  
// 60% โ 3 ูุฌูู
// 40% โ 2 ูุฌูู
// 20% โ 1 ูุฌูุฉ
```

### 5. ุฑุณุงูุฉ ุงููุฌุงุญ ุงููุญุฏุซุฉ

```
"ุชู ุญูุธ ูุงุฆูุฉ ุงูุชุญูู โ"
"ุชู ุงูุญูุธ ุจูุฌุงุญ (id: xxx). ุฏุฑุฌุฉ ุงูุงูุชุฒุงู: 85%. ุชู ุฅุถุงูุฉ ุงูุฌูุณุฉ ุฅูู ุงูุณุฌู."
```

## ุงูููุงุฆุฏ ุงูุฌุฏูุฏุฉ

### 1. ุชุชุจุน ุดุงูู
- **ูุฑุงุฌุนุฉ ุณุฑูุนุฉ**: ุฑุคูุฉ ุฌููุน ุฌูุณุงุช ููุงุฆู ุงูุชุญูู ูู ููุงู ูุงุญุฏ
- **ุฅุญุตุงุฆูุงุช**: ุชุชุจุน ุชุทูุฑ ุฏุฑุฌุฉ ุงูุงูุชุฒุงู ุนุจุฑ ุงูููุช
- **ููุงุฑูุฉ**: ููุงุฑูุฉ ุฃุฏุงุก ุงูุฃุทูุงู ุงููุฎุชูููู

### 2. ุชุญููู ุงูุจูุงูุงุช
- **ููุชุฑุฉ**: ุงูุจุญุซ ุนู ุฌูุณุงุช ููุงุฆู ุงูุชุญูู ููุท
- **ุชุฑุชูุจ**: ุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ ุฃู ุฏุฑุฌุฉ ุงูุงูุชุฒุงู
- **ุชุตุฏูุฑ**: ุฅููุงููุฉ ุชุตุฏูุฑ ุงูุจูุงูุงุช (ูุณุชูุจูุงู)

### 3. ุฅุฏุงุฑุฉ ูุญุณูุฉ
- **ุญุงูุฉ ููุญุฏุฉ**: ุฌููุน ุงูุฌูุณุงุช ูู ููุณ ุงูููุงู
- **ุจุญุซ ุณูู**: ุงูุจุญุซ ูู ูุต ุงูุฌูุณุงุช
- **ุชุญุฏูุซ ุงูุญุงูุฉ**: ุชุบููุฑ ุญุงูุฉ ุงูุฌูุณุฉ ูู ุงูุณุฌู

## ูุซุงู ุนูู ุงูุจูุงูุงุช ูู SessionLog

### ุงูุฌุฏูู ุงูุฑุฆูุณู:
```
ุงูุชุงุฑูุฎ: 15/01/2024 14:30
ุงูุทูู: ุฃุญูุฏ
ุงูููุน: ูุต
ุงููุดุงุท: ููุช ุงูุตูุงุฉ
ุงูููุชุทู: ูุงุฆูุฉ ุชุญูู ุงูุฎุทุฉ ุงูุณููููุฉ - ุงูุณููู: ุนุฏู ุงูุตูุงุฉ - ุฏุฑุฌุฉ ุงูุงูุชุฒุงู: 85%
ุงูุญุงูุฉ: ูุทุจู
```

### ุงูุชูุงุตูู ุงูููุณุนุฉ:
```
ุงููุต ุงููุงูู: ูุงุฆูุฉ ุชุญูู ุงูุฎุทุฉ ุงูุณููููุฉ - ุงูุณููู: ุนุฏู ุงูุตูุงุฉ ุนูุฏ ุณูุงุน ุงูุฃุฐุงู - ุฏุฑุฌุฉ ุงูุงูุชุฒุงู: 85%

ุงููุณูู: 
โข behavior
โข checklist  
โข fidelity-85%

ูุณุชูู ุงูุทุงูุฉ: โญโญโญโญ (4/5)

ุงูููุชุฑุญุงุช:
โข ุงุณุชุฎุฏุงู ุฌุฏูู ุจุตุฑู ููุฃูุดุทุฉ
โข ุชูุณูู ุงููููุฉ ุฅูู ุฎุทูุงุช ุฃุตุบุฑ

ุงูุชุฎุตูุตุงุช:
โข ุชุนุฒูุฒ ููุฑู ูุทูุจ ุงูุงุณุชุฑุงุญุฉ
โข ุชุฌุงูู ูุฎุทุท ูุณููู ุงูุฑูุถ
```

## ุงูุชูุงูู ูุน ุงููุธุงู

### 1. Firebase
- **Collection**: `sessions`
- **Document ID**: ูุนุฑู ูุฑูุฏ ููู ุฌูุณุฉ
- **Fields**: ุฌููุน ุงูุจูุงูุงุช ุงููุทููุจุฉ ููุณุฌู

### 2. SessionLog Component
- **ุนุฑุถ ุชููุงุฆู**: ุงูุฌูุณุงุช ุชุธูุฑ ููุฑุงู ูู ุงูุณุฌู
- **ููุชุฑุฉ**: ูููู ููุชุฑุฉ ุฌูุณุงุช ููุงุฆู ุงูุชุญูู
- **ุจุญุซ**: ุงูุจุญุซ ูู ูุต ุงูุฌูุณุงุช
- **ุชูุงุตูู**: ุนุฑุถ ูุงูู ููุจูุงูุงุช ุนูุฏ ุงูุชูุณูุน

### 3. App.jsx
- **onSaveToLog**: ูุชู ุงุณุชุฏุนุงุคูุง ุชููุงุฆูุงู
- **sessionData**: ูุชู ุชุญุฏูุซูุง ูุน ุงูุฌูุณุฉ ุงูุฌุฏูุฏุฉ
- **UI**: ุงูุณุฌู ูุชุญุฏุซ ููุฑุงู

## ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุฏูุฌ ูุธููุฉ ุญูุธ ูุงุฆูุฉ ุงูุชุญูู ูุน SessionLogุ ููุง ูููุฑ:

- โ **ุญูุธ ูุฒุฏูุฌ**: ูู Firebase ููู ุงูุณุฌู
- โ **ุนุฑุถ ููุญุฏ**: ุฌููุน ุงูุฌูุณุงุช ูู ููุงู ูุงุญุฏ
- โ **ุชุญููู ุดุงูู**: ุฅููุงููุฉ ุชุชุจุน ุงูุชูุฏู
- โ **ุฅุฏุงุฑุฉ ูุญุณูุฉ**: ุณูููุฉ ุงููุตูู ูุงููุฑุงุฌุนุฉ
- โ **ุชูุงูู ุณูุณ**: ูุง ูุคุซุฑ ุนูู ุงููุธุงุฆู ุงูููุฌูุฏุฉ

ุงูุขู ุนูุฏูุง ูุญูุธ ุงููุณุชุฎุฏู ูุงุฆูุฉ ุงูุชุญููุ ุณุชุธูุฑ ุงูุฌูุณุฉ ุชููุงุฆูุงู ูู SessionLog ูุน ุฌููุน ุงูุชูุงุตูู ุงููุทููุจุฉ! ๐
